<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />

    <title>Introducción a git</title>

    <link rel="stylesheet" href="dist/reset.css" />
    <link rel="stylesheet" href="dist/reveal.css" />
    <link rel="stylesheet" href="dist/theme/custom.css" />

    <!-- Theme used for syntax highlighted code -->
    <link rel="stylesheet" href="plugin/highlight/monokai.css" />
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <section>
          <h1><code>git</code> ✨</h1>
          <p>
            <span class="red">
              *Lo que nunca te contaron y quizás sería por algo
            </span>
          </p>
        </section>

        <section>
          <h3>Índice</h3>
          <ol>
            <li class="fragment">Introducción al control de versiones</li>
            <li class="fragment">Preparación del entorno de desarrollo</li>
            <li class="fragment">Flujo de trabajo</li>
            <li class="fragment">Comandos en detalle</li>
            <li class="fragment">Convenciones y buenas prácticas</li>
          </ol>
        </section>

        <section>
          <h3>¿Qué es el control de versiones?</h3>
          <div class="r-stack">
            <div class="blk-full">
              <div class="blk-left fragment fade-in-then-semi-out">
                <pre>
                  <code class="console" data-trim data-noescape>
                    ~/work$ ls -l
                    procesa_datos_00.R
                    procesa_datos_01.R
                    procesa_datos_02.R
                    procesa_datos_03.R
                    procesa_datos_04.R
                    procesa_datos_05.R
                    procesa_datos_06.R
                    procesa_datos_07.R
                    procesa_datos_08.R
                    procesa_datos_09.R
                    procesa_datos_10.R
                    procesa_datos_11.R
                    procesa_datos_12.R
                    procesa_datos_13.R
                    procesa_datos_14.R
                    procesa_datos_15.R
                    procesa_datos_16.R
                    procesa_datos_17.R
                    procesa_datos_18.R
                    procesa_datos_19.R
                    procesa_datos_20.R
                  </code>
                </pre>
              </div>
              <div class="blk-right fragment fade-in-then-semi-out">
                <pre>
                  <code class="console" data-trim data-noescape>
                    ~/work$ tree
                    .
                    ├── cambios
                    │   ├── arregla_error1
                    │   ├── arreglando_procesa
                    │   ├── mejora_funcionalidad
                    │   ├── nuevo_problema
                    │   └── soluciona_bug
                    ├── definitivo
                    │   ├── lanzamiento
                    │   ├── version_final
                    │   └── version_mejorada
                    └── pruebas
                        ├── pruebas_antes
                        ├── pruebas_despues
                        └── pruebas_final

                    14 directories, 0 files
                  </code>
                </pre>
              </div>
            </div>
            <img class="top framed fragment" src="img/nope.gif" alt="" />
          </div>
        </section>

        <section>
          <blockquote cite="https://es.wikipedia.org/wiki/Control_de_versiones">
            &ldquo;Se llama control de versiones a la gestión de los diversos
            <span class="yellow">cambios</span> que se realizan sobre los
            elementos de algún producto o una configuración del mismo. Una
            versión, revisión o edición de un producto, es el
            <span class="red">estado</span> en el que se encuentra el mismo en
            un momento dado de su desarrollo o modificación.&rdquo;
          </blockquote>
        </section>

        <section>
          <h3>Aclarando conceptos 1️⃣</h3>
          <img src="img/git-layers.jpg" alt="" />
        </section>

        <section>
          <h3>Aclarando conceptos 2️⃣</h3>
          <!-- prettier-ignore -->
          <div class="yellow">
            \[ Repositorio \neq Proyecto \]
          </div>
          <p class="fragment">repo = repositorio</p>
        </section>

        <section>
          <h3>¿Por qué <span class="yellow">Git</span>?</h3>
          <ul>
            <li>Histórico permanente de cambios.</li>
            <li>Copias de seguridad.</li>
            <li>Trabajo en equipo.</li>
            <li>Crear ramas y/o etiquetas.</li>
            <li>Enfoque social.</li>
          </ul>
          <img class="r-stretch" src="img/git-work.jpg" alt="" />
        </section>

        <section>
          <h3>Índice</h3>
          <ol>
            <li class="strike">Introducción al control de versiones</li>
            <li class="yellow">Preparación del entorno de desarrollo</li>
            <li>Flujo de trabajo</li>
            <li>Comandos en detalle</li>
            <li>Convenciones y buenas prácticas</li>
          </ol>
        </section>

        <section>
          <h3>¿Tengo <code class="yellow">git</code> instalado?</h3>
          <div class="r-stack">
            <pre>
              <code class="console" data-trim data-noescape>
                $ git --version
                git version 2.32.0 (Apple Git-132)
              </code>
            </pre>
            <img
              class="fragment fade-in-then-out"
              src="img/yeah.gif"
              alt="Yeah"
            />
          </div>
          <p class="fragment">
            ☁️
            <a href="https://git-scm.com/downloads"
              >https://git-scm.com/downloads</a
            >
          </p>
        </section>

        <section>
          <h3>Establecer credenciales</h3>
          <pre>
            <code class="console" data-trim data-noescape>
              $ git config --global user.name "Sergio Delgado Quintero"
              $ git config --global user.email "sdelquin@gmail.com"
            </code>
          </pre>
          <div class="fragment">
            <p>
              👇🏻 Crea un fichero en <code class="red">$HOME/.gitconfig</code>
            </p>
            <pre>
              <code class="ini" data-trim data-noescape>
                [user]
                  name = Sergio Delgado Quintero
                  email = sdelquin@gmail.com
              </code>
            </pre>
          </div>
        </section>

        <section>
          <div class="r-fit-text">
            <code><span class="yellow">git</span> init</code>
          </div>
        </section>

        <section>
          <h3>Inicializar un repositorio</h3>
          <div class="r-stack">
            <pre class="fragment fade-out" data-fragment-index="0">
              <code class="console" data-trim data-noescape>
                $ git init
                Initialized empty Git repository in /Users/sdelquin/work/.git/
              </code>
            </pre>
            <p class="fragment current-visible" data-fragment-index="0">
              ¿ <code class="red">.git</code> ?
            </p>
            <pre class="fragment">
              <code class="console" data-trim data-noescape>
                $ tree .git
                  .git
                  ├── HEAD
                  ├── config
                  ├── description
                  ├── hooks
                  │   ├── applypatch-msg.sample
                  │   ├── commit-msg.sample
                  │   ├── fsmonitor-watchman.sample
                  │   ├── post-update.sample
                  │   ├── pre-applypatch.sample
                  │   ├── pre-commit.sample
                  │   ├── pre-merge-commit.sample
                  │   ├── pre-push.sample
                  │   ├── pre-rebase.sample
                  │   ├── pre-receive.sample
                  │   ├── prepare-commit-msg.sample
                  │   ├── push-to-checkout.sample
                  │   └── update.sample
                  ├── info
                  │   └── exclude
                  ├── objects
                  │   ├── info
                  │   └── pack
                  └── refs
                      ├── heads
                      └── tags
              </code>
            </pre>
          </div>
        </section>

        <section>
          <div class="r-fit-text">
            <code><span class="yellow">git</span> clone</code>
          </div>
        </section>

        <section>
          <h3>Clonar un repositorio</h3>
          <div class="blk-left fragment">
            <p>Vía <span class="yellow">$ssh$</span></p>
            <pre>
              <code class="s60 console" data-trim data-noescape>
                $ git clone git@github.com:sdelquin/work.git
                Cloning into 'work'...
                remote: Enumerating objects: 4, done.
                remote: Counting objects: 100% (4/4), done.
                remote: Compressing objects: 100% (3/3), done.
                Receiving objects: 100% (4/4), done.
                remote: Total 4 (delta 0), reused 0 (delta 0), pack-reused 0
              </code>
            </pre>
            <p class="fragment s70">*Clave pública/privada</p>
          </div>
          <div class="blk-right fragment">
            <p>Vía <span class="red">$https$</span></p>
            <pre>
              <code class="s60 console" data-trim data-noescape>
                $ git clone https://github.com/sdelquin/work.git
                Cloning into 'work'...
                remote: Enumerating objects: 4, done.
                remote: Counting objects: 100% (4/4), done.
                remote: Compressing objects: 100% (3/3), done.
                Receiving objects: 100% (4/4), done.
                remote: Total 4 (delta 0), reused 0 (delta 0), pack-reused 0
              </code>
            </pre>
            <p class="fragment s70">*Usuario y password</p>
          </div>
        </section>

        <section>
          <h3>Índice</h3>
          <ol>
            <li class="strike">Introducción al control de versiones</li>
            <li class="strike">Preparación del entorno de desarrollo</li>
            <li class="yellow">Flujo de trabajo</li>
            <li>Comandos en detalle</li>
            <li>Convenciones y buenas prácticas</li>
          </ol>
        </section>

        <section>
          <h3>Flujo de trabajo 1️⃣</h3>
          <p>Crear rama de desarrollo</p>
          <pre>
            <code class="console" data-trim data-noescape>
              $ git switch -c dev
            </code>
          </pre>
          <p class="fragment fade-up">✅</p>
        </section>

        <section>
          <h3>Flujo de trabajo 2️⃣</h3>
          <p>Hacer las modificaciones pertinentes</p>
          <pre>
            <code class="console" data-trim data-noescape>
              $ ...
            </code>
          </pre>
          <p class="fragment fade-up">✅</p>
        </section>

        <section>
          <h3>Flujo de trabajo 3️⃣</h3>
          <p>Ver el estado del repo</p>
          <pre>
            <code class="console" data-trim data-noescape>
              $ git status
            </code>
          </pre>
          <p class="fragment fade-up">✅</p>
        </section>

        <section>
          <h3>Flujo de trabajo 4️⃣</h3>
          <p>Añadir los cambios</p>
          <pre>
            <code class="console" data-trim data-noescape>
              $ git add .
            </code>
          </pre>
          <p class="fragment fade-up">✅</p>
        </section>

        <section>
          <h3>Flujo de trabajo 5️⃣</h3>
          <p>Confirmar los cambios</p>
          <pre>
            <code class="console" data-trim data-noescape>
              $ git commit -m "First commit"
            </code>
          </pre>
          <p class="fragment fade-up">✅</p>
        </section>

        <section>
          <h3>Flujo de trabajo 6️⃣</h3>
          <p>Subir cambios al servicio web</p>
          <pre>
            <code class="console" data-trim data-noescape>
              $ git push
            </code>
          </pre>
          <p class="fragment fade-up">✅</p>
        </section>

        <section>
          <h3>Índice</h3>
          <ol>
            <li class="strike">Introducción al control de versiones</li>
            <li class="strike">Preparación del entorno de desarrollo</li>
            <li class="strike">Flujo de trabajo</li>
            <li class="yellow">Comandos en detalle</li>
            <li>Convenciones y buenas prácticas</li>
          </ol>
        </section>

        <section>
          <h3>Punto de partida</h3>
          <p>
            ☁️
            <a href="https://github.com/sdelquin/work.git"
              >https://github.com/sdelquin/work.git</a
            >
          </p>
          <pre>
            <code class="console" data-trim data-noescape data-line-numbers="1|2|3-4">
              $ git clone https://github.com/sdelquin/work.git
              $ cd work
              $ ls
              LICENSE   README.md
            </code>
          </pre>
        </section>

        <section>
          <div class="r-fit-text">
            <code><span class="yellow">git</span> status</code>
          </div>
          <p class="green">Comprobando el estado del repositorio</p>
        </section>

        <section data-auto-animate>
          <h3>
            <code>git <span class="red">status</span></code>
          </h3>
          <pre>
              <code class="console" data-trim data-noescape data-line-numbers="1|2|3|5">
                $ git status
                On branch main
                Your branch is up to date with 'origin/main'.
  
                nothing to commit, working tree clean
              </code>
            </pre>
        </section>

        <section data-auto-animate>
          <h3>
            <code>git <span class="red">status</span></code>
          </h3>
          <p>Modificamos <code>README.md</code> 👷🏻‍♀️</p>
          <pre>
            <code class="console" data-trim data-noescape data-line-numbers="1-3|5-8|10">
              $ git status
              On branch main
              Your branch is up to date with 'origin/main'.
              
              Changes not staged for commit:
                (use "git add [file]..." to update what will be committed)
                (use "git restore [file]..." to discard changes in working directory)
                modified:   README.md
              
              no changes added to commit (use "git add" and/or "git commit -a")
            </code>
          </pre>
        </section>

        <section>
          <h3>Estados de un fichero en <code>git</code></h3>
          <img class="r-stretch" src="img/git-states.jpg" alt="" />
        </section>

        <section>
          <div class="r-fit-text">
            <code><span class="yellow">git</span> add</code>
          </div>
          <p class="green">Añadiendo cambios/ficheros a "staged"</p>
        </section>

        <section>
          <h3>
            <code>git <span class="red">add</span></code>
          </h3>
          <pre>
            <code class="console" data-trim data-noescape>
              $ git add README.md
            </code>
          </pre>
          <pre class="fragment">
            <code class="console" data-trim data-noescape data-line-numbers="1-3|5-7">
            $ git status
            On branch main
            Your branch is up to date with 'origin/main'.

            Changes to be committed:
              (use "git restore --staged [file]..." to unstage)
              modified:   README.md
            </code>
          </pre>
        </section>

        <section>
          <p class="r-fit-text">
            ⚡ <code>git <span class="red">add</span> .</code>
          </p>
        </section>

        <section>
          <div class="r-fit-text">
            <code><span class="yellow">git</span> commit</code>
          </div>
          <p class="green">Consolidando los cambios hechos</p>
        </section>

        <section>
          <h3>
            <code>git <span class="red">commit</span></code>
          </h3>
          <pre>
            <code class="console" data-trim data-noescape>
              $ git commit -m "Add welcome message"
              [main ae0abb3] Add welcome message
              1 file changed, 1 insertion(+)
            </code>
          </pre>
          <pre class="fragment">
            <code class="console" data-trim data-noescape data-line-numbers="1|2|3-4|6">
              $ git status
              On branch main
              Your branch is ahead of 'origin/main' by 1 commit.
                (use "git push" to publish your local commits)
              
              nothing to commit, working tree clean
            </code>
          </pre>
        </section>

        <section>
          <h3>Me olvidé de incluir un cambio en el último commit</h3>
          <img src="img/facepalm.gif" alt="facepalm" />
          <p class="fragment yellow">💡 ¡Hay solución!</p>
        </section>

        <section>
          <h3>
            <code>git <span class="red">commit</span> --amend</code>
          </h3>
          <ol>
            <li class="fragment">Haz los cambios que necesites 👷🏻‍♀️</li>
            <li class="fragment">
              "Comitea" usando el siguiente comando
              <pre>
                <code class="console" data-trim data-noescape>
                  $ git add .
                  $ git commit --amend
                </code>
              </pre>
            </li>
            <li class="fragment">
              Opción "desatentida"
              <pre>
                <code class="console" data-trim data-noescape>
                  $ git add .
                  $ git commit --amend --no-edit
                </code>
              </pre>
            </li>
          </ol>
        </section>

        <section>
          <div class="r-fit-text">
            <code><span class="yellow">git</span> restore</code>
          </div>
          <p class="green">El <code>CTRL-Z</code> de toda la vida</p>
        </section>

        <section>
          <h3>
            <code>git <span class="red">restore</span></code>
          </h3>
          <p>
            <span class="green">Escenario 1:</span> Hemos modificado
            <code class="yellow">README.md</code> pero está aún sin añadir
          </p>
          <div class="r-stack">
            <pre class="fragment fade-out" data-fragment-index="0">
              <code class="console" data-trim data-noescape>
                $ git status
                On branch main
                Your branch is up to date with 'origin/main'.
                
                Changes not staged for commit:
                  (use "git add [file]..." to update what will be committed)
                  (use "git restore [file]..." to discard changes in working directory)
                  modified:   README.md
                
                no changes added to commit (use "git add" and/or "git commit -a")
              </code>
            </pre>
            <div class="fragment" data-fragment-index="0">
              <pre>
                <code class="console" data-trim data-noescape>
                  $ git restore README.md
                </code>
              </pre>
              <pre>
                <code class="console" data-trim data-noescape>
                  $ git status
                  On branch main
                  Your branch is up to date with 'origin/main'.
    
                  nothing to commit, working tree clean
                </code>
              </pre>
            </div>
          </div>
        </section>

        <section>
          <h3>
            <code>git <span class="red">restore</span></code>
          </h3>
          <p>
            <span class="green">Escenario 2:</span> Hemos modificado
            <code class="yellow">README.md</code> y lo hemos añadido
          </p>
          <div class="r-stack">
            <pre class="fragment fade-out" data-fragment-index="0">
              <code class="console" data-trim data-noescape>
                $ git status
                On branch main
                Your branch is up to date with 'origin/main'.

                Changes to be committed:
                  (use "git restore --staged [file]..." to unstage)
                  modified:   README.md
              </code>
            </pre>
            <div class="fragment" data-fragment-index="0">
              <pre>
                <code class="console" data-trim data-noescape>
                  $ git restore --staged README.md
                  $ git restore README.md
                </code>
              </pre>
              <pre>
                <code class="console" data-trim data-noescape>
                  $ git status
                  On branch main
                  Your branch is up to date with 'origin/main'.
    
                  nothing to commit, working tree clean
                </code>
              </pre>
            </div>
          </div>
        </section>

        <section>
          <h3>Ramas</h3>
          <img src="img/git-branches.jpg" alt="Git branches" />
        </section>

        <section>
          <div class="r-fit-text">
            <code><span class="yellow">git</span> branch</code>
          </div>
          <p class="green">Gestionando las ramas</p>
        </section>

        <section>
          <h3>
            <code>git <span class="red">branch</span> 1️⃣</code>
          </h3>
          <div class="r-stack">
            <!-- Fragment -->
            <div class="w50 fragment fade-out" data-fragment-index="0">
              <p>Ramas locales 🎋</p>
              <pre>
                <code class="console" data-trim data-noescape>
                  $ git branch
                  * main
                </code>
              </pre>
            </div>
            <!-- Fragment -->
            <div
              class="w50 fragment fade-out current-visible"
              data-fragment-index="0"
            >
              <p>Ramas remotas ☁️</p>
              <pre>
                <code class="console" data-trim data-noescape>
                  $ git branch -r
                  origin/HEAD -> origin/main
                  origin/main
                </code>
              </pre>
            </div>
            <!-- Fragment -->
            <div class="w60 fragment fade-out current-visible">
              <p>Todas las ramas 🌴</p>
              <pre>
                <code class="console" data-trim data-noescape>
                  $ git branch -a
                  * main
                  remotes/origin/HEAD -> origin/main
                  remotes/origin/main
                </code>
              </pre>
            </div>
            <!-- Fragment -->
            <div class="w100 fragment">
              <p>Todos los detalles 🔍</p>
              <pre>
                <code class="console" data-trim data-noescape>
                  $ git branch -avv
                  * main                788a2d7 [origin/main] Initial commit
                    remotes/origin/HEAD -> origin/main
                    remotes/origin/main 788a2d7 Initial commit
                </code>
              </pre>
            </div>
          </div>
        </section>

        <section>
          <h3>
            <code>git <span class="red">branch</span> 2️⃣</code>
          </h3>
          <!-- Fragment -->
          <div class="fragment blk-left">
            <p>Crear ramas 🚀</p>
            <pre>
              <code class="console s90" data-trim data-noescape>
                $ git branch dev
                $ git branch feat
              </code>
            </pre>
            <pre>
              <code class="console s90" data-trim data-noescape>
                $ git status
                  dev
                  feat
                * main
              </code>
            </pre>
          </div>
          <!-- Fragment -->
          <div class="fragment blk-right">
            <p>Borrar ramas 🗑️</p>
            <pre>
              <code class="console s90" data-trim data-noescape>
                $ git branch -d dev
                Deleted branch dev (was ae0abb3).
                $ git branch -d feat
                Deleted branch feat (was ae0abb3).
              </code>
            </pre>
            <pre>
              <code class="console s90" data-trim data-noescape>
                $ git status
                * main
              </code>
            </pre>
          </div>
        </section>

        <section>
          <div class="r-fit-text">
            <code><span class="yellow">git</span> remote</code>
          </div>
          <p class="green">Gestionando las direcciones remotas</p>
        </section>

        <section>
          <h3>
            <code>git <span class="red">remote</span></code>
          </h3>
          <pre>
            <code class="console" data-trim data-noescape>
              $ git remote -v
              origin	git@github.com:sdelquin/work.git (fetch)
              origin	git@github.com:sdelquin/work.git (push)
            </code>
          </pre>
          <!-- prettier-ignore -->
          <ul class="dollar fragment">
            <li><code>git remote <span class="green">add</span></code></li>
            <li><code>git remote <span class="green">remove</span></code></li>
          </ul>
        </section>

        <section>
          <div class="r-fit-text">
            <code><span class="yellow">git</span> switch</code>
          </div>
          <p class="green">Cambiando* a otras ramas</p>
        </section>

        <section>
          <h3>
            <code>git <span class="red">switch</span></code>
          </h3>
          <div class="r-stack f90">
            <!-- Fragment -->
            <div class="fragment fade-out" data-fragment-index="0">
              <div class="blk-l30">
                <img src="img/branches/lego-git-branch01.png" alt="" />
              </div>
              <div class="blk-r70">
                <pre>
                  <code class="console" data-trim data-noescape>
                    $ git branch
                    * main
                  </code>
                </pre>
              </div>
            </div>
            <!-- Fragment -->
            <div
              class="fragment fade-out current-visible"
              data-fragment-index="0"
            >
              <div class="blk-l30">
                <img src="img/branches/lego-git-branch02.png" alt="" />
              </div>
              <div class="blk-r70">
                <pre>
                  <code class="console" data-trim data-noescape>
                    $ git switch -c blue
                    Switched to a new branch 'blue'
                  </code>
                </pre>
                <pre>
                  <code class="console" data-trim data-noescape>
                    $ git branch
                    * blue
                      main
                  </code>
                </pre>
              </div>
            </div>
            <!-- Fragment -->
            <div class="fragment fade-out current-visible">
              <div class="blk-l30">
                <img src="img/branches/lego-git-branch03.png" alt="" />
              </div>
              <div class="blk-r70">
                <pre>
                  <code class="console" data-trim data-noescape>
                    $ git switch -c red
                    Switched to a new branch 'red'
                  </code>
                </pre>
                <pre>
                  <code class="console" data-trim data-noescape>
                    $ git branch
                      blue
                      main
                    * red
                  </code>
                </pre>
              </div>
            </div>
            <!-- Fragment -->
            <div class="fragment fade-out current-visible">
              <div class="blk-l30">
                <img src="img/branches/lego-git-branch04.png" alt="" />
              </div>
              <div class="blk-r70">
                <pre>
                  <code class="console" data-trim data-noescape>
                    $ git switch main
                    Switched to a new branch 'main'
                  </code>
                </pre>
                <pre>
                  <code class="console" data-trim data-noescape>
                    $ git branch -d red
                    Deleted branch red (was 6b70804).
                  </code>
                </pre>
                <pre>
                  <code class="console" data-trim data-noescape>
                    $ git status
                      blue
                    * main
                  </code>
                </pre>
                <pre>
                  <code class="console" data-trim data-noescape>
                    $ git switch -c red
                    Switched to a new branch 'red'
                  </code>
                </pre>
                <pre>
                  <code class="console" data-trim data-noescape>
                    $ git status
                      blue
                      main
                    * red
                  </code>
                </pre>
              </div>
            </div>
            <!-- Fragment -->
            <div class="fragment">
              <div class="blk-l30">
                <img src="img/branches/lego-git-branch05.png" alt="" />
              </div>
              <div class="blk-r70">
                <pre>
                  <code class="console" data-trim data-noescape>
                    $ git switch blue
                    $ git commit
                    $ git commit
                    $ git switch -c green
                    $ git commit
                    $ git switch red
                    $ git commit
                    $ git commit
                    $ git commit
                  </code>
                </pre>
              </div>
              <div class="blk-full s50 ptop5">
                Fuente $\Rightarrow$
                <a href="https://opensource.com/article/22/4/git-branches"
                  >https://opensource.com/article/22/4/git-branches</a
                >
              </p>
            </div>
          </div>
        </section>

        <section>
          <div class="r-fit-text">
            <code><span class="yellow">git</span> push</code>
          </div>
          <p class="green">Subiendo los cambios al "upstream"</p>
        </section>

        <section>
          <h3>
            <code>git <span class="red">push</span> 1️⃣</code>
          </h3>
          <div class="r-stack">
            <pre>
              <code class="console" data-trim data-noescape  data-line-numbers="1|2-3|4-5|6-7|8|9">
                $ git push
                Enumerating objects: 5, done.
                Counting objects: 100% (5/5), done.
                Delta compression using up to 8 threads
                Compressing objects: 100% (2/2), done.
                Writing objects: 100% (3/3), 340 bytes | 340.00 KiB/s, done.
                Total 3 (delta 0), reused 0 (delta 0), pack-reused 0
                To github.com:sdelquin/work.git
                  bdede5e..ae0abb3  main -> main
              </code>
            </pre>
            <pre class="fragment framed-red">
              <code class="console" data-trim data-noescape>
                $ git branch -vv
                * main ae0abb3 [origin/main] Add welcome message
              </code>
            </pre>
          </div>
        </section>

        <section>
          <h3>
            <code>git <span class="red">push</span> 2️⃣</code>
          </h3>
          <div class="r-stack">
            <div>
              <pre class="fragment semi-fade-out" data-fragment-index="0">
                <code class="console" data-trim data-noescape>
                  $ git switch -c dev
                  Switched to a new branch 'dev'
    
                  $ git push
                  fatal: The current branch dev has no upstream branch.
                  To push the current branch and set the remote as upstream, use
    
                      git push --set-upstream origin dev
                </code>
              </pre>
              <p
                class="fragment semi-fade-out current-visible s150"
                data-fragment-index="0"
              >
                😨
              </p>
            </div>
            <pre class="fragment framed-red">
              <code class="console" data-trim data-noescape>
                $ git branch -vv
                * dev  ae0abb3 Add welcome message
                  main ae0abb3 [origin/main] Add welcome message
              </code>
            </pre>
          </div>
        </section>

        <section>
          <h3>
            <code>git <span class="red">push</span> 2️⃣</code>
          </h3>
          <div class="r-stack">
            <div>
              <pre class="fragment semi-fade-out" data-fragment-index="0">
                <code class="console"data-trim data-noescape>
                  $ git push -u origin dev
                  Total 0 (delta 0), reused 0 (delta 0), pack-reused 0
                  remote:
                  remote: Create a pull request for 'dev' on GitHub by visiting:
                  remote:      https://github.com/sdelquin/work/pull/new/dev
                  remote:
                  To github.com:sdelquin/work.git
                  * [new branch]      dev -> dev
                  Branch 'dev' set up to track remote branch 'dev' from 'origin'.
                </code>
              </pre>
              <p
                class="fragment semi-fade-out current-visible"
                data-fragment-index="0"
              >
                <code>-u</code> <span class="yellow">$\Leftrightarrow$</span>
                <code>--set-upstream</code>
              </p>
            </div>
            <pre class="fragment framed-red">
              <code class="console" data-trim data-noescape>
                $ git branch -vv
                * dev  ae0abb3 [origin/dev] Add welcome message
                  main ae0abb3 [origin/main] Add welcome message
              </code>
            </pre>
          </div>
        </section>

        <section>
          <div class="r-fit-text">
            <code><span class="yellow">git</span> merge</code>
          </div>
          <p class="green">Mezclando cambios desde otra rama</p>
        </section>

        <section>
          <h3>
            <code>git <span class="red">merge</span> 1️⃣</code>
          </h3>
          <div class="blk-l20">
            <img src="img/git-merge1.png" alt="" />
          </div>
          <div class="blk-r80 fragment">
            <pre>
              <code class="console" data-trim data-noescape data-line-numbers="1|3-5|7|9-12">
                $ git switch dev

                $ vi README.md  # modificación
                $ git add .
                $ git commit -m "New notes"

                $ git switch main

                $ git merge dev --no-edit
                Merge made by the 'recursive' strategy.
                 README.md | 1 +
                 1 file changed, 1 insertion(+)
              </code>
            </pre>
          </div>
        </section>

        <section>
          <h3>
            <code>git <span class="red">merge</span> 2️⃣</code>
          </h3>
          <div class="blk-l20">
            <img src="img/git-merge2.png" alt="" />
          </div>
          <div class="blk-r80 fragment">
            <pre>
              <code class="s90 console" data-trim data-noescape data-line-numbers="1-3|5-7|9-12">
                $ git switch dev
                $ vi README.md  # modificación
                $ git add .; git commit -m "Say hola"

                $ git switch main
                $ vi README.md  # modificación
                $ git add .; git commit -m "Say hallo"

                $ git merge dev --no-edit
                Auto-merging README.md
                CONFLICT (content): Merge conflict in README.md
                Automatic merge failed; fix conflicts and then commit the result.
              </code>
            </pre>
            <p class="fragment s150">😱😱😱</p>
          </div>
        </section>

        <section>
          <h3>
            <code>git <span class="red">merge</span> 2️⃣</code>
          </h3>
          <div class="blk-left">
            <p class="s60 red"><code>README.md</code></p>
            <pre>
              <code class="console" data-trim data-noescape>
                <span class="fragment" data-fragment-index="1"># work</span>
                <span class="fragment yellow" data-fragment-index="2"><<<<<<< HEAD
                Hallo
                ||||||| 8f1e81f
                =======
                Hola
                >>>>>>> dev</span>
                <span class="fragment" data-fragment-index="3">Just for testing purposes</span>
                <span class="fragment" data-fragment-index="4">Hello World!</span>
                <span class="fragment" data-fragment-index="5">Changes from dev branch</span>
                <span class="fragment" data-fragment-index="6">Keep on working</span>
              </code>
            </pre>
          </div>
          <div class="blk-right">
            <p class="s60 green"><code>README.md</code></p>
            <pre>
              <code class="console" data-trim data-noescape>
                <span class="fragment" data-fragment-index="1"># work</span>
                <span class="fragment yellow" data-fragment-index="2">Hola</span>
                <span class="fragment" data-fragment-index="3">Just for testing purposes</span>
                <span class="fragment" data-fragment-index="4">Hello World!</span>
                <span class="fragment" data-fragment-index="5">Changes from dev branch</span>
                <span class="fragment" data-fragment-index="6">Keep on working</span>
              </code>
            </pre>
          </div>
        </section>

        <section>
          <h3>
            <code>git <span class="red">merge</span> 2️⃣</code>
          </h3>
          <div class="r-stack">
            <pre class="fragment semi-fade-out" data-fragment-index="0">
              <code class="console" data-trim data-noescape data-line-numbers="1,10-12">
                $ git status
                On branch main
                Your branch is ahead of 'origin/main' by 3 commits.
                  (use "git push" to publish your local commits)
  
                You have unmerged paths.
                  (fix conflicts and run "git commit")
                  (use "git merge --abort" to abort the merge)
  
                Unmerged paths:
                  (use "git add [file]..." to mark resolution)
                  both modified:   README.md
  
                no changes added to commit (use "git add" and/or "git commit -a")
              </code>
            </pre>
            <pre class="fragment framed-red" data-fragment-index="0">
              <code class="console" data-trim data-noescape>
                $ git add README.md

                $ git commit -m "Fix conflict"
                [main 101d7fb] Fix conflict
                 1 file changed, 1 insertion(+), 1 deletion(-)
              </code>
            </pre>
          </div>
        </section>

        <section>
          <div class="r-fit-text">
            <code><span class="yellow">git</span> pull</code>
          </div>
          <p class="green">Actualizando los cambios remotos</p>
        </section>

        <section>
          <h3>
            <code>git <span class="red">pull</span></code>
          </h3>
          <div class="blk-left">
            <img src="img/git-pull.png" alt="" />
          </div>
          <div class="blk-right">
            <pre class="fragment">
              <code class="console" data-trim data-noescape>
                $ git switch dev
                $ # edit README.md
                $ git add .
                $ git commit
                $ git push
              </code>
            </pre>
            <img class="fragment" src="img/pull-request.png" alt="" />
            <pre class="fragment">
              <code class="console" data-trim data-noescape>
                $ git switch main
                $ git pull
              </code>
            </pre>
          </div>
        </section>

        <section>
          <p>
            <code>git <span class="red">pull</span></code>
            <span class="green">$\Leftrightarrow$</span>
            <code>git <span class="yellow">fetch</span></code> $+$
            <code>git <span class="yellow">merge</span></code>
          </p>
          <img src="img/idea.gif" alt="" />
        </section>

        <section>
          <div class="r-fit-text">
            <code><span class="yellow">git</span> stash</code>
          </div>
          <p class="green">Almacenando temporalmente los cambios</p>
        </section>

        <section>
          <h3>
            <code>git <span class="red">stash</span></code>
          </h3>
          <div class="r-stack">
            <pre class="fragment fade-out" data-fragment-index="0">
              <code class="console s80" data-trim data-noescape data-line-numbers="1, 5,8,10,12">
                $ git status
                On branch main
                Your branch is up to date with 'origin/main'.
  
                Changes not staged for commit:
                  (use "git add [file]..." to update what will be committed)
                  (use "git restore [file]..." to discard changes in working directory)
                  modified:   README.md
  
                Untracked files:
                  (use "git add [file]..." to include in what will be committed)
                  config.py
  
                no changes added to commit (use "git add" and/or "git commit -a")
              </code>
            </pre>
            <pre
              class="fragment current-visible"
              data-fragment-index="0"
            >
              <code class="console" data-trim data-noescape>
                $ git stash -u
                Saved working directory and index state WIP on main:
                c18e3f7 Merge branch 'main' of github.com:sdelquin/work
              </code>
            </pre>
            <pre class="fragment fade-out current-visible">
              <code class="console" data-trim data-noescape>
                $ git status
                On branch main
                Your branch is up to date with 'origin/main'.

                nothing to commit, working tree clean
              </code>
            </pre>
            <pre class="fragment">
              <code class="console s80" data-trim data-noescape data-line-numbers="1, 5,8,10,12">
                $ git stash pop
                On branch main
                Your branch is up to date with 'origin/main'.

                Changes not staged for commit:
                  (use "git add [file]..." to update what will be committed)
                  (use "git restore [file]..." to discard changes in working directory)
                  modified:   README.md

                Untracked files:
                  (use "git add [file]..." to include in what will be committed)
                  config.py

                no changes added to commit (use "git add" and/or "git commit -a")
                Dropped refs/stash@{0} (eb45cfdc63836cbc6417c358780ba55722c795b3)
              </code>
            </pre>
          </div>
        </section>

        <section>
          <div class="r-fit-text">
            <code><span class="yellow">git</span> log</code>
          </div>
          <p class="green">Mostrando el historial de cambios</p>
        </section>

        <section>
          <h3>
            <code>git <span class="red">log</span></code>
          </h3>
          <pre>
            <code class="console" data-trim data-noescape>
              $ git log --pretty=oneline --abbrev-commit
              c18e3f7 (HEAD -> main) Merge branch 'main' of github.com:sdelquin/work
              1705ee9 (origin/main) Merge pull request #2 from sdelquin/dev
              3149c76 (origin/dev, dev) Work in progress
              101d7fb Fix conflict
              24c1201 Say hallo
              66c4e10 Say hola
              aa94f74 Merge branch 'dev'
              8f1e81f New notes
              e44f857 Merge pull request #1 from sdelquin/dev
              e8983c7 More changes
              ae0abb3 Add welcome message
              bdede5e Initial commit
            </code>
          </pre>
        </section>

        <section>
          <div class="r-fit-text">
            <code><span class="yellow">git</span> tag</code>
          </div>
          <p class="green">Etiquetando versiones</p>
        </section>

        <section>
          <h3>
            <code>git <span class="red">tag</span></code>
          </h3>
          <div class="blk-l30">
            <img src="img/git-tag.png" alt="" />
          </div>
          <div class="blk-r70">
            <pre class="fragment fade-in-then-semi-out">
              <code class="console" data-trim data-noescape>
                $ vi sum.py  # nueva funcionalidad
    
                $ git add sum.py
                $ git commit -m "Add sum"
              </code>
            </pre>
            <pre class="fragment">
              <code class="console s90 framed-red" data-trim data-noescape>
                $ git tag -a 1.0.0 -m "Release version 1.0.0"
              </code>
            </pre>
            <pre class="fragment fade-in-then-semi-out">
              <code class="console" data-trim data-noescape>
                $ git tag
                1.0.0
              </code>
            </pre>
            <p class="fragment">
              ☁️ <a href="https://semver.org/lang/es/">Versionado semántico</a>
            </p>
          </div>
        </section>

        <section>
          <p class="r-fit-text">
            ⚡ <code>git <span class="red">push</span> --follow-tags</code>
          </p>
        </section>

        <section>
          <h3>Índice</h3>
          <ol>
            <li class="strike">Introducción al control de versiones</li>
            <li class="strike">Preparación del entorno de desarrollo</li>
            <li class="strike">Flujo de trabajo</li>
            <li class="strike">Comandos en detalle</li>
            <li class="yellow">Convenciones y buenas prácticas</li>
          </ol>
        </section>

        <section>
          <h3>
            Estructura
            <span class="yellow">/mínima/</span>
            del repo
          </h3>
          <ul class="check">
            <li class="fragment"><code>README.md</code></li>
            <li class="fragment">
              <code>LICENSE</code> $\Rightarrow$
              <a href="https://www.gnu.org/licenses/agpl-3.0.txt">AGPL3</a>
            </li>
            <li class="fragment"><code>CHANGELOG</code></li>
            <li class="fragment"><code>.gitignore</code></li>
          </ul>
        </section>

        <section>
          <h3>Lo que <span class="red">/no/</span> debería estar en el repo</h3>
          <ul class="cross">
            <li class="fragment">Contraseñas o credenciales</li>
            <li class="fragment">Ficheros generados</li>
            <li class="fragment">Ficheros multimedia</li>
          </ul>
        </section>

        <section>
          <h3><span class="green">Buenas prácticas</span> en commits</h3>
          <ul>
            <!-- prettier-ignore -->
            <li class="fragment">Commit
              $
              \begin{cases}
                \text{Tarea general} \\
                \text{Línea en blanco} \\
                \text{Cambios aplicados}
              \end{cases}
              $
            </li>
            <li class="fragment">
              No usar <span class="red">rutas absolutas</span>
            </li>
            <!-- prettier-ignore -->
            <li class="fragment">Mantener <span class="yellow">estado funcional</span> tras commit</li>
            <li class="fragment">Commits atómicos</li>
            <li class="fragment">Commits formato $\neq$ funcionalidad</li>
            <li class="fragment">🇺🇸 vs 🇪🇸</li>
            <li class="fragment">Etiquetado de versiones</li>
          </ul>
        </section>

        <section>
          <h3>Indicaciones a nivel de <span class="yellow">código</span></h3>
          <ul>
            <li class="fragment">Escribir código en 🇺🇸</li>
            <li class="fragment"><code class="green">#TODO</code></li>
            <li class="fragment">
              No usar <span class="red">rutas absolutas</span>
            </li>
            <li class="fragment">Código transversal $\Rightarrow$ Paquete</li>
            <li class="fragment">
              <span class="red strike">Hardcodear</span> $\Rightarrow$
              Configuraciones
            </li>
          </ul>
        </section>

        <section data-auto-animate>
          <h3>GitLab corporativo</h3>
          <p class="green">ETL</p>
          <pre class="clear">
            <code class="console" data-trim data-noescape>
              <span class="fragment red" data-fragment-index="0">📂 ETL Operaciones</span>
                <span class="fragment" data-fragment-index="1">📂 020.010 Población</span>
                  <span class="fragment" data-fragment-index="2">📂 E30260A Explotación Estadística del Padrón Municipal</span>
                    <span class="fragment yellow" data-fragment-index="3">⭐ E30260A-DD2SD-PC0001.V0.1</span>
                <span class="fragment" data-fragment-index="1">📂 070.010 Industria</span>
                  <span class="fragment" data-fragment-index="2">📂 E30050A Indice de Producción Industrial</span>
                    <span class="fragment yellow" data-fragment-index="3">⭐ E30050A-MDS2MDS-PC0001-V0.1</span>
                <span class="fragment" data-fragment-index="1">📂 080.010 Comercio</span>
                  <span class="fragment" data-fragment-index="2">📂 E30103A Indices de Comercio al por Menor</span>
                    <span class="fragment yellow" data-fragment-index="3">⭐ E30103A-MDS2MDS-PC0001-VO.1</span>
              <span class="fragment red" data-fragment-index="0">📂 ETL Transversales</span>
               <span class="fragment" data-fragment-index="5"> 📂 PROCESA Procesamiento de datos y análisis de resultados</span>
                 <span class="fragment" data-fragment-index="6"> 📂 GSBPM6.1.2 Ejecutar ajustes estacional-efect calendario</span>
                    <span class="fragment yellow" data-fragment-index="7">⭐ GSBPM6.1.2-PC0001-V0.1</span>
            </code>
          </pre>
        </section>

        <section data-auto-animate>
          <h3>GitLab corporativo</h3>
          <p class="green">Software</p>
          <pre class="clear">
            <code class="console" data-trim data-noescape>
              <span class="fragment" data-fragment-index="0">📂 Sistema de gestión de ETL</span>
                <span class="fragment yellow" data-fragment-index="1">⭐ coetl</span>
                <span class="fragment yellow" data-fragment-index="1">⭐ ETL Launcher</span>
            </code>
          </pre>
        </section>

        <section>
          <h3>¡Gracias! 🎉</h3>
          <img
            class="framed"
            style="width: 20rem"
            src="img/byebye.gif"
            alt=""
          />
        </section>

      </div>
    </div>

    <script src="dist/reveal.js"></script>
    <script src="plugin/notes/notes.js"></script>
    <script src="plugin/markdown/markdown.js"></script>
    <script src="plugin/highlight/highlight.js"></script>
    <script src="plugin/math/math.js"></script>
    <script>
      // More info about initialization & config:
      // - https://revealjs.com/initialization/
      // - https://revealjs.com/config/
      Reveal.initialize({
        hash: true,

        // Learn about plugins: https://revealjs.com/plugins/
        plugins: [
          RevealMarkdown,
          RevealHighlight,
          RevealNotes,
          RevealMath.KaTeX,
        ],
      });
    </script>

    <!-- Hack to add header/footer: https://stackoverflow.com/a/37518822 👇🏻 -->

    <!-- Create hidden header/footer <div> -->
    <div id="hidden" style="display: none">
      <div id="header">
        <div id="header-left"></div>
        <div id="header-right">
          <img class="logo" src="img/git-logo.svg" alt="GIT LOGO" />
        </div>
        <div id="footer-left">
          <img class="logo" src="img/istac-logo.svg" alt="ISTAC LOGO" />
          <div class="label">
            ISTAC | <a href="https://sdelquin.me">@sdelquin</a>
          </div>
        </div>
      </div>
    </div>

    <script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>
    <script type="text/javascript">
      // On Reveal.js ready event, copy header/footer <div> into each `.slide-background` <div>
      var header = $("#header").html();
      if (window.location.search.match(/print-pdf/gi)) {
        Reveal.addEventListener("ready", function (event) {
          $(".slide-background").append(header);
        });
      } else {
        $("div.reveal").append(header);
      }
    </script>

    <!-- Hack to add header/footer: https://stackoverflow.com/a/37518822 👆🏻 -->
  </body>
</html>
